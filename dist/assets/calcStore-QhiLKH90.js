import{v as a,x as r}from"./index-Jthqd49A.js";const s=a("CalcStore",{state:()=>({tree:null,structure:null,isLoading:!1,data:null,list:null,item:null}),getters:{isTreeReady(e){return!!(!e.isLoading&&e.tree!==null&&e.tree.children&&Object.keys(e.tree.children).length)},isDataReady(e){return!!(!e.isLoading&&e.data!==null&&Object.keys(e.data).length)},isStrReady(e){return!!(!e.isLoading&&e.structure!==null&&e.structure.child&&Object.keys(e.structure.child).length)}},actions:{async fetchStructure(){try{this.isLoading=!0,this.structure=(await r.get("blocks/categories/structure/services")).data.data,this.isLoading=!1}catch(e){console.error("Ошибка API:",e)}finally{this.isLoading=!1}},async fetchTree(e){try{this.isLoading=!0,this.tree=(await r.get("/tree/"+e)).data,this.isLoading=!1}catch(t){console.error("Ошибка API:",t)}finally{this.isLoading=!1}},async fetchGroup(e){try{this.isLoading=!0,this.data=(await r.get("/group/offers/"+e)).data,this.isLoading=!1}catch(t){console.error("Ошибка API:",t)}finally{this.isLoading=!1}},async fetchCategory(e){try{const t=(await r.get("/dictionaries/"+e+"/categories/tree")).data;return console.log(t),t}catch(t){console.error("Ошибка API:",t)}},async fetchItem(e){try{this.isLoading=!0,this.item=(await r.get("/item/"+e)).data,this.isLoading=!1}catch(t){console.error("Ошибка API:",t)}},async fetchItemFromApi(e){return(await r.get("/item/"+e)).data},async fetchCategoryFromApi(e){try{return(await r.get("/cat/"+e)).data}catch(t){return console.error("Ошибка API:",t),null}}}});export{s as u};
